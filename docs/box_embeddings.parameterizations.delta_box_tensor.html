

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>box_embeddings.parameterizations.delta_box_tensor &mdash; Box Embeddings  documentation</title>



  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />







  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->


      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>

    <script type="text/javascript" src="_static/js/theme.js"></script>


    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="box_embeddings.parameterizations.box_tensor" href="box_embeddings.parameterizations.box_tensor.html" />
</head>

<body class="wy-body-for-nav">


  <div class="wy-grid-for-nav">

    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >



            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Box Embeddings




            <img src="_static/UMass_IESL.png" class="logo" alt="Logo"/>

          </a>







<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>


        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">






              <p class="caption"><span class="caption-text">Code Tree</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="box_embeddings.html">box_embeddings</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="box_embeddings.common.html">box_embeddings.common</a></li>
<li class="toctree-l2"><a class="reference internal" href="box_embeddings.initializations.html">box_embeddings.initializations</a></li>
<li class="toctree-l2"><a class="reference internal" href="box_embeddings.modules.html">box_embeddings.modules</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="box_embeddings.parameterizations.html">box_embeddings.parameterizations</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="box_embeddings.parameterizations.box_tensor.html">box_embeddings.parameterizations.box_tensor</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">box_embeddings.parameterizations.delta_box_tensor</a></li>
</ul>
</li>
</ul>
</li>
</ul>



        </div>

      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


      <nav class="wy-nav-top" aria-label="top navigation">

          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Box Embeddings</a>

      </nav>


      <div class="wy-nav-content">

        <div class="rst-content">

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">

      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>

          <li><a href="box_embeddings.html">box_embeddings</a> &raquo;</li>

          <li><a href="box_embeddings.parameterizations.html">box_embeddings.parameterizations</a> &raquo;</li>

      <li>box_embeddings.parameterizations.delta_box_tensor</li>


      <li class="wy-breadcrumbs-aside">


            <a href="_sources/box_embeddings.parameterizations.delta_box_tensor.rst.txt" rel="nofollow"> View page source</a>


      </li>

  </ul>


  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <div class="section" id="module-box_embeddings.parameterizations.delta_box_tensor">
<span id="box-embeddings-parameterizations-delta-box-tensor"></span><h1>box_embeddings.parameterizations.delta_box_tensor<a class="headerlink" href="#module-box_embeddings.parameterizations.delta_box_tensor" title="Permalink to this headline">¶</a></h1>
<p>Implementation of min-delta box parameterization.</p>
<dl class="py class">
<dt id="box_embeddings.parameterizations.delta_box_tensor.MinDeltaBoxTensor">
<em class="property">class </em><code class="sig-prename descclassname">box_embeddings.parameterizations.delta_box_tensor.</code><code class="sig-name descname">MinDeltaBoxTensor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>torch.Tensor<span class="p">, </span>Tuple<span class="p">[</span>torch.Tensor<span class="p">, </span>torch.Tensor<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">beta</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">20</span></em><span class="sig-paren">)</span><a class="headerlink" href="#box_embeddings.parameterizations.delta_box_tensor.MinDeltaBoxTensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="box_embeddings.parameterizations.box_tensor.html#box_embeddings.parameterizations.box_tensor.BoxTensor" title="box_embeddings.parameterizations.box_tensor.BoxTensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">box_embeddings.parameterizations.box_tensor.BoxTensor</span></code></a></p>
<p>Unconstrained min-delta box tensor.</p>
<p>For input of the shape (…, 2, box_dim), this parameterization
defines z=w, and Z=w + delta, where w and delta come from the -2th dimension
of the input. It uses softplus to keep the delta positive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – The weights for the box</p></li>
<li><p><strong>beta</strong> – beta parameter for softplus for delta. Depending on the
universe box and your inputs ranges, you might want to change this.
Higher values of beta will make softplus harder and bring it close to ReLU.</p></li>
<li><p><strong>threshold</strong> – parameter for the softplus for delta</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="box_embeddings.parameterizations.delta_box_tensor.MinDeltaBoxTensor.W">
<em class="property">classmethod </em><code class="sig-name descname">W</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">z</span><span class="p">:</span> <span class="n">torch.Tensor</span></em>, <em class="sig-param"><span class="n">Z</span><span class="p">:</span> <span class="n">torch.Tensor</span></em>, <em class="sig-param"><span class="n">beta</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">20.0</span></em><span class="sig-paren">)</span> &#x2192; torch.Tensor<a class="headerlink" href="#box_embeddings.parameterizations.delta_box_tensor.MinDeltaBoxTensor.W" title="Permalink to this definition">¶</a></dt>
<dd><p>Given (z,Z), it returns one set of valid box weights W, such that
Box(W) = (z,Z).</p>
<p>The min coordinate is stored as is:
W[…,0,:] = z
W[…,1,:] = softplus_inverse(Z-z)</p>
<p>The max coordinate is transformed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z</strong> – Lower left coordinate of shape (…, hidden_dims)</p></li>
<li><p><strong>Z</strong> – Top right coordinate of shape (…, hidden_dims)</p></li>
<li><p><strong>beta</strong> – TODO</p></li>
<li><p><strong>threshold</strong> – TODO</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Parameters of the box. In base class implementation, this</dt><dd><p>will have shape (…, 2, hidden_dims).</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="box_embeddings.parameterizations.delta_box_tensor.MinDeltaBoxTensor.Z">
<em class="property">property </em><code class="sig-name descname">Z</code><a class="headerlink" href="#box_embeddings.parameterizations.delta_box_tensor.MinDeltaBoxTensor.Z" title="Permalink to this definition">¶</a></dt>
<dd><p>Top right coordinate as Tensor</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>top right corner</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="box_embeddings.parameterizations.delta_box_tensor.MinDeltaBoxTensor.args">
<em class="property">property </em><code class="sig-name descname">args</code><a class="headerlink" href="#box_embeddings.parameterizations.delta_box_tensor.MinDeltaBoxTensor.args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="box_embeddings.parameterizations.delta_box_tensor.MinDeltaBoxTensor.from_vector">
<em class="property">classmethod </em><code class="sig-name descname">from_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vector</span><span class="p">:</span> <span class="n">torch.Tensor</span></em>, <em class="sig-param"><span class="n">beta</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">20</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="box_embeddings.parameterizations.box_tensor.html#box_embeddings.parameterizations.box_tensor.BoxTensor" title="box_embeddings.parameterizations.box_tensor.BoxTensor">box_embeddings.parameterizations.box_tensor.BoxTensor</a><a class="headerlink" href="#box_embeddings.parameterizations.delta_box_tensor.MinDeltaBoxTensor.from_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a box for a vector. In this base implementation the vector is split
into two pieces and these are used as z and delta.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vector</strong> – tensor</p></li>
<li><p><strong>beta</strong> – beta parameter for softplus for delta. Depending on the
universe box and your inputs ranges, you might want to change this.
Higher values of beta will make softplus harder and bring it close to ReLU.</p></li>
<li><p><strong>threshold</strong> – parameter for the softplus for delta</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A BoxTensor</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – if last dimension is not even</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="box_embeddings.parameterizations.delta_box_tensor.MinDeltaBoxTensor.kwargs">
<em class="property">property </em><code class="sig-name descname">kwargs</code><a class="headerlink" href="#box_embeddings.parameterizations.delta_box_tensor.MinDeltaBoxTensor.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration attribute values</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>

          </div>
          <footer>

    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">


        <a href="box_embeddings.parameterizations.box_tensor.html" class="btn btn-neutral float-left" title="box_embeddings.parameterizations.box_tensor" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>

    </div>


  <hr/>

  <div role="contentinfo">
    <p>

        &copy; Copyright Information Extraction and Synthesis Lab., UMass

    </p>
  </div>



    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a

    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>

    provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>






</body>
</html>
